<div class="navbar">
  <div class="logo">
    <i class="fa-solid fa-puzzle-piece"></i>
    <a href="/home">
      <h1>Puzzles</h1>
    </a>
  </div>
  <div class="searchBar">
    <button class="icon-button">
      <i class="fa-regular fa-square-plus fa-lg" onclick="gotoAddPost()"></i>
    </button>
    <input class="searchTopics" type="text" placeholder="Search Anything" class="searchText" />
    <button type="submit" class="icon-button">
      <i class="fa-solid fa-magnifying-glass"></i>
    </button>
  </div>
  <div class="dropdown">
    <button onclick="myFunction()" class="dropbtn">
      <% if(user != null){ %>
        <img src="<%= user.profilePhoto %>" alt="/images/defaultProfilePhoto">
      <% } else { %>
        <i class="fa-solid fa-user"></i>
      <% } %>
    </button>
    <div id="myDropdown" class="dropdown-content">
      <% if(user != null){ %>
        <a href="/home/saved">Saved Posts</a>
        <a href="/home/liked">Liked Posts</a>
        <a href="/home/profile">Profile</a>
        <a href="/auth/logout">Logout</a>
      <% } else { %>
        <a href="/auth/login">Login</a>
        <a href="/auth/register">Register</a>
      <% } %>
    </div>
  </div>
</div>
<script>
  function gotoAddPost() {
    window.location.href = "/topic/createTopic";
  }

  function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }

  window.onclick = function (event) {
    if (!event.target.matches(".dropbtn")) {
      var dropdowns = document.getElementsByClassName("dropdown-content");
      var i;
      for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains("show")) {
          openDropdown.classList.remove("show");
        }
      }
    }
  };
</script>
